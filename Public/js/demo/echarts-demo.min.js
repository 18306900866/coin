$(function () {

    $.ajax({
        url: "useronline", method: "post",
        async: "true", data: '', timeout: 5000, dataType: "json",
        success: function (data) {
            var list = eval(data);
            var e = echarts.init(document.getElementById("echarts-line-chart")), a = {
                title: {text: "今日各个时间段最高用户在线数"},
                tooltip: {trigger: "axis"},
                legend: {data: ["最高人数"]},
                grid: {x: 40, x2: 40, y2: 24},
                calculable: !0,
                xAxis: [{
                    type: "category",
                    boundaryGap: !1,
                    data: ["0-2", "2-4", "4-6", "6-8", "8-10", "10-12", "12-14", "14-16", "16-18", "18-20", "20-22", "22-24"]
                }],
                yAxis: [{type: "value", axisLabel: {formatter: "{value}"}}],
                series: [{
                    name: "最高人数",
                    type: "line",
                    data: [list['one'], list['two'], list['three'], list['four'], list['five'], list['six'], list['seven'], list['eight'], list['nine'], list['ten'], list['eleven'], list['twelve']],
                    markPoint: {data: [{type: "max", name: "最大值"}]},
                }]
            };
            e.setOption(a), $(window).resize(e.resize);
        }
    })

    $.ajax({
        url: "weekrech", method: "post",
        async: "true", data: '', timeout: 5000, dataType: "json",
        success: function (data) {
            var list = eval(data);
            var t = echarts.init(document.getElementById("echarts-bar-chart")), n = {
                title: {text: "最近七天充值提现金额"},
                tooltip: {trigger: "axis"},
                legend: {data: ["充值金额", "提现金额"]},
                grid: {x: 30, x2: 40, y2: 24},
                calculable: !0,
                xAxis: [{type: "category", data: [list[0]['time'], list[1]['time'], list[2]['time'], list[3]['time'], list[4]['time'], list[5]['time'], list[6]['time']]}],
                yAxis: [{type: "value"}],
                series: [{
                    name: "充值金额",
                    type: "bar",
                    data: [list[0]['total'], list[1]['total'], list[2]['total'], list[3]['total'], list[4]['total'], list[5]['total'], list[6]['total']],
                    markPoint: {data: [{type: "max", name: "最大值"}, {type: "min", name: "最小值"}]},
                }, {
                    name: "提现金额",
                    type: "bar",
                    data: [list[0]['tx'], list[1]['tx'], list[2]['tx'], list[3]['tx'], list[4]['tx'], list[5]['tx'], list[6]['tx']],
                }]
            };
            t.setOption(n), window.onresize = t.resize;
        }
    })
    $.ajax({
        url: "userfrom", method: "post",
        async: "true", data: '', timeout: 5000, dataType: "json",
        success: function (data) {
            var list = eval(data);
            var l = echarts.init(document.getElementById("echarts-pie-chart")), u = {
                title: {text: "用户注册来源", subtext: "真实可靠", x: "center"},
                tooltip: {trigger: "item", formatter: "{a} <br/>{b} : {c} ({d}%)"},
                legend: {orient: "vertical", x: "left", data: ["电信", "移动", "联通", "其他"]},
                calculable: !0,
                series: [{
                    name: "访问来源",
                    type: "pie",
                    radius: "55%",
                    center: ["50%", "60%"],
                    data: [{value: list[0], name: "电信"}, {value: list[1], name: "移动"}, {value: list[2], name: "联通"}, {
                        value: list[3],
                        name: "其他"
                    },]
                }]
            };
            l.setOption(u), $(window).resize(l.resize);
        }
    })
    $.ajax({
        url: "userlocation", method: "post",
        async: "true", data: '', timeout: 5000, dataType: "json",
        success: function (data) {
            var list = eval(data);
            var s = echarts.init(document.getElementById("echarts-map-chart")), c = {
                title: {text: "用户注册登录地区", subtext: "来源真实", x: "center"},
                tooltip: {trigger: "item"},
                legend: {orient: "vertical", x: "left", data: ["iphone3"]},
                dataRange: {min: 0, max: 10000, x: "left", y: "bottom", text: ["高", "低"], calculable: !0},
                toolbox: {
                    show: !0,
                    orient: "vertical",
                    x: "right",
                    y: "center",
                    feature: {
                        mark: {show: !0},
                        dataView: {show: !0, readOnly: !1},
                        restore: {show: !0},
                        saveAsImage: {show: !0}
                    }
                },
                roamController: {show: !0, x: "right", mapTypeControl: {china: !0}},
                series: [{
                    name: "注册",
                    type: "map",
                    mapType: "china",
                    roam: !1,
                    itemStyle: {normal: {label: {show: !0}}, emphasis: {label: {show: !0}}},
                    data: [
                        {name: "北京", value: list['bj']},
                        {name: "天津", value: list['tj']},
                        {name: "上海", value: list['sh']},
                        {name: "重庆", value: list['cq']},
                        {name: "河北", value: list['hb']},
                        {name: "河南", value: list['hn']},
                        {name: "云南", value: list['yn']},
                        {name: "辽宁", value: list['ln']},
                        {name: "黑龙江", value: list['hlj']},
                        {name: "湖南", value: list['hun']},
                        {name: "安徽", value: list['ah']},
                        {name: "山东", value: list['sd']},
                        {name: "新疆", value: list['xj']},
                        {name: "江苏", value: list['js']},
                        {name: "浙江", value: list['zj']},
                        {name: "江西", value: list['jx']},
                        {name: "湖北", value: list['hub']},
                        {name: "广西", value: list['gx']},
                        {name: "甘肃", value: list['gs']},
                        {name: "山西", value: list['sx']},
                        {name: "内蒙古", value: list['nmg']},
                        {name: "陕西", value: list['shanx']},
                        {name: "吉林", value: list['jl']},
                        {name: "福建", value: list['fj']},
                        {name: "贵州", value: list['gz']},
                        {name: "广东", value: list['gd']},
                        {name: "青海", value: list['qh']},
                        {name: "西藏", value: list['xz']},
                        {name: "四川", value: list['sc']},
                        {name: "宁夏", value: list['nx']},
                        {name: "海南", value: list['hain']},
                        {name: "台湾", value: list['tw']},
                        {name: "香港", value: list['xg']},
                        {name: "澳门", value: list['am']}
                        ]
                }]
            };
            s.setOption(c), $(window).resize(s.resize);
        }
    })
});